# Step 3 éªŒæ”¶æŠ¥å‘Šï¼šå›¾ç‰‡ä¸Šä¼ ä¸Žæœ¬åœ°å­˜å‚¨

**å®Œæˆæ—¶é—´**: 2026-01-13  
**å¼€å‘é˜¶æ®µ**: Step 3 - å›¾ç‰‡ä¸Šä¼ ä¸Žæœ¬åœ°å­˜å‚¨  
**å‚è€ƒæ–‡æ¡£**: `docs/04_tasks/roadmap.md`

---

## ç›®æ ‡å›žé¡¾

- âœ… å›¾ç‰‡ä¸Šä¼ è½ç›˜å¹¶ä¸Žä»»åŠ¡ç»‘å®š

## éªŒæ”¶æ ‡å‡†

- âœ… å›¾ç‰‡å­˜åœ¨
- âœ… task ä¸Žå›¾ç‰‡å…³è”æ­£ç¡®
- âœ… çŠ¶æ€ä¸º `uploaded`

---

## ðŸ“ å›¾ç‰‡å­˜å‚¨ä½ç½®æ˜Žç¡®

**å­˜å‚¨è§„åˆ™**ï¼š`data/images/{task_id}.{ext}`

**ç¤ºä¾‹**ï¼š
- ä»»åŠ¡ ID: `d22fa0c3-7df9-48d9-a647-24a0d638779e`
- å›¾ç‰‡æ–‡ä»¶: `data/images/d22fa0c3-7df9-48d9-a647-24a0d638779e.png`

**ä¼˜åŠ¿**ï¼š
- âœ… æ–‡ä»¶åå”¯ä¸€ï¼ˆåŸºäºŽ UUIDï¼‰
- âœ… æ˜“äºŽè¿½æº¯ï¼ˆtask_id å³æ–‡ä»¶åï¼‰
- âœ… ä¾¿äºŽç®¡ç†ï¼ˆæŒ‰ä»»åŠ¡æ¸…ç†ï¼‰
- âœ… é¿å…æ–‡ä»¶åå†²çª

---

## å®Œæˆå†…å®¹

### 1. ä¸Šä¼ æœåŠ¡å±‚ï¼ˆupload_service.pyï¼‰

åˆ›å»ºäº†å®Œæ•´çš„æ–‡ä»¶ä¸Šä¼ æœåŠ¡ï¼š

```python
class UploadService:
    # æ”¯æŒçš„å›¾ç‰‡æ ¼å¼
    ALLOWED_IMAGE_EXTENSIONS = {".png", ".jpg", ".jpeg", ".gif", ".bmp", ".webp"}
    
    æ–¹æ³•ï¼š
    - get_image_storage_path()      # èŽ·å–å­˜å‚¨è·¯å¾„ï¼ˆæ˜Žç¡®ï¼‰
    - validate_image_file()         # éªŒè¯å›¾ç‰‡æ–‡ä»¶
    - save_uploaded_image()         # ä¿å­˜å›¾ç‰‡åˆ°ç£ç›˜
    - upload_and_bind_image()       # ä¸Šä¼ å¹¶ç»‘å®šä»»åŠ¡ï¼ˆä¸€ç«™å¼ï¼‰
    - format_file_size()            # æ ¼å¼åŒ–æ–‡ä»¶å¤§å°
    - delete_image()                # åˆ é™¤å›¾ç‰‡æ–‡ä»¶
```

**å…³é”®å®žçŽ°**ï¼š

#### 1.1 æ˜Žç¡®çš„å­˜å‚¨è·¯å¾„

```python
@staticmethod
def get_image_storage_path(task_id: UUID, file_extension: str) -> Path:
    """
    èŽ·å–å›¾ç‰‡å­˜å‚¨è·¯å¾„
    å­˜å‚¨è§„åˆ™ï¼šdata/images/{task_id}.{ext}
    """
    images_dir = settings.data_paths["images"]
    filename = f"{task_id}{file_extension}"
    return Path(images_dir) / filename
```

**å­˜å‚¨ä½ç½®**ï¼š`data/images/{task_id}.{ext}`
- åŸºäºŽ task_id çš„å”¯ä¸€æ–‡ä»¶å
- è‡ªåŠ¨èŽ·å–æ–‡ä»¶æ‰©å±•å
- ç¡®ä¿ç›®å½•å­˜åœ¨

#### 1.2 æ–‡ä»¶éªŒè¯

```python
- æ£€æŸ¥æ–‡ä»¶åæ˜¯å¦ä¸ºç©º
- éªŒè¯æ–‡ä»¶æ‰©å±•åï¼ˆ.png, .jpg, .jpeg, .gif, .bmp, .webpï¼‰
- éªŒè¯ content typeï¼ˆimage/*ï¼‰
```

#### 1.3 å¼‚æ­¥æ–‡ä»¶ä¿å­˜

```python
- ä½¿ç”¨ aiofiles å¼‚æ­¥ä¿å­˜
- 8KB åˆ†å—è¯»å–ï¼ˆé¿å…å†…å­˜æº¢å‡ºï¼‰
- è‡ªåŠ¨åˆ›å»ºç›®å½•
- éªŒè¯ä¿å­˜æˆåŠŸ
- è®°å½•æ–‡ä»¶å¤§å°
```

### 2. ä¸Šä¼ æŽ¥å£ Schemaï¼ˆupload.pyï¼‰

```python
class UploadResponse:
    task_id: UUID           # ä»»åŠ¡ ID
    image_path: str         # å›¾ç‰‡å­˜å‚¨è·¯å¾„
    file_size: str          # æ–‡ä»¶å¤§å°
    message: str            # å“åº”æ¶ˆæ¯
```

### 3. ä¸Šä¼  API è·¯ç”±ï¼ˆupload.pyï¼‰

å®žçŽ°äº†ä¸¤ä¸ªä¸Šä¼ æŽ¥å£ï¼š

| æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | è¯´æ˜Ž |
|------|------|------|------|
| POST | `/api/v1/upload/image/{task_id}` | ä¸Šä¼ å›¾ç‰‡åˆ°æŒ‡å®šä»»åŠ¡ | éœ€è¦å…ˆåˆ›å»ºä»»åŠ¡ |
| POST | `/api/v1/upload/image` | åˆ›å»ºä»»åŠ¡å¹¶ä¸Šä¼ å›¾ç‰‡ | ä¸€ç«™å¼ä¾¿æ·æŽ¥å£ |

**æŽ¥å£ç‰¹æ€§**ï¼š
- æ”¯æŒ multipart/form-data æ–‡ä»¶ä¸Šä¼ 
- å®Œæ•´çš„é”™è¯¯å¤„ç†
- è¯¦ç»†çš„æŽ¥å£æ–‡æ¡£
- è‡ªåŠ¨éªŒè¯ä»»åŠ¡å­˜åœ¨æ€§
- è‡ªåŠ¨æ›´æ–°ä»»åŠ¡çŠ¶æ€

### 4. è·¯ç”±æ³¨å†Œ

åœ¨ `main.py` ä¸­æ³¨å†Œä¸Šä¼ è·¯ç”±ï¼š

```python
app.include_router(upload_router.router, prefix="/api/v1")
```

---

## éªŒæ”¶æµ‹è¯•ç»“æžœ

### æµ‹è¯• 1ï¼šä¸Šä¼ å›¾ç‰‡åˆ°æŒ‡å®šä»»åŠ¡ âœ…

**æ­¥éª¤**ï¼š
1. åˆ›å»ºä»»åŠ¡
2. ä¸Šä¼ å›¾ç‰‡

**å‘½ä»¤**ï¼š
```bash
# åˆ›å»ºä»»åŠ¡
TASK_ID=$(curl -s -X POST http://localhost:8000/api/v1/tasks/ | \
  python3 -c "import sys, json; print(json.load(sys.stdin)['data']['task_id'])")

# ä¸Šä¼ å›¾ç‰‡
curl -X POST "http://localhost:8000/api/v1/upload/image/$TASK_ID" \
  -F "file=@data/temp/test_upload.png"
```

**å“åº”**ï¼š
```json
{
    "success": true,
    "message": "å›¾ç‰‡ä¸Šä¼ æˆåŠŸï¼Œå·²ä¿å­˜åˆ°: .../data/images/d22fa0c3-7df9-48d9-a647-24a0d638779e.pngï¼Œå¤§å°: 70.00 B",
    "data": {
        "task_id": "d22fa0c3-7df9-48d9-a647-24a0d638779e",
        "image_path": ".../data/images/d22fa0c3-7df9-48d9-a647-24a0d638779e.png",
        "message": "å›¾ç‰‡ä¸Šä¼ æˆåŠŸ..."
    }
}
```

**éªŒè¯ç‚¹**ï¼š
- âœ… ä¸Šä¼ æˆåŠŸ
- âœ… è¿”å›žæ­£ç¡®çš„ task_id
- âœ… è¿”å›žå›¾ç‰‡å­˜å‚¨è·¯å¾„
- âœ… æ˜¾ç¤ºæ–‡ä»¶å¤§å°

### æµ‹è¯• 2ï¼šéªŒè¯å›¾ç‰‡æ–‡ä»¶å­˜åœ¨ âœ…

**å‘½ä»¤**ï¼š
```bash
ls -lh /home/lenovo/development_project/ocrpngtoexcel_test/data/images/$TASK_ID.png
```

**ç»“æžœ**ï¼š
```
-rw-rw-r-- 1 lenovo lenovo 70 1æœˆ 13 17:49 .../data/images/d22fa0c3-7df9-48d9-a647-24a0d638779e.png
```

**éªŒè¯**ï¼š
```bash
file /home/lenovo/development_project/ocrpngtoexcel_test/data/images/$TASK_ID.png
```

**ç»“æžœ**ï¼š
```
PNG image data, 1 x 1, 8-bit/color RGBA, non-interlaced
```

**éªŒè¯ç‚¹**ï¼š
- âœ… æ–‡ä»¶å­˜åœ¨
- âœ… æ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼ˆPNGï¼‰
- âœ… æ–‡ä»¶åæ ¼å¼ï¼š`{task_id}.png` âœ“
- âœ… å­˜å‚¨ä½ç½®ï¼š`data/images/` âœ“

### æµ‹è¯• 3ï¼šéªŒè¯ task ä¸Žå›¾ç‰‡å…³è” âœ…

**å‘½ä»¤**ï¼š
```bash
curl http://localhost:8000/api/v1/tasks/$TASK_ID
```

**å“åº”**ï¼š
```json
{
    "success": true,
    "data": {
        "task_id": "d22fa0c3-7df9-48d9-a647-24a0d638779e",
        "image_path": ".../data/images/d22fa0c3-7df9-48d9-a647-24a0d638779e.png",
        "status": "uploaded",
        ...
    }
}
```

**éªŒè¯ç‚¹**ï¼š
- âœ… task çš„ `image_path` å­—æ®µå·²æ›´æ–°
- âœ… è·¯å¾„æŒ‡å‘æ­£ç¡®çš„å›¾ç‰‡æ–‡ä»¶
- âœ… ä»»åŠ¡çŠ¶æ€ä¸º `uploaded` âœ“
- âœ… task_id ä¸Žæ–‡ä»¶åä¸€è‡´

### æµ‹è¯• 4ï¼šä¾¿æ·æŽ¥å£ï¼ˆåˆ›å»º+ä¸Šä¼ ï¼‰ âœ…

**å‘½ä»¤**ï¼š
```bash
curl -X POST "http://localhost:8000/api/v1/upload/image" \
  -F "file=@data/temp/test_upload.png"
```

**å“åº”**ï¼š
```json
{
    "success": true,
    "message": "ä»»åŠ¡åˆ›å»ºå¹¶ä¸Šä¼ æˆåŠŸ",
    "data": {
        "task_id": "81578103-ec34-4fda-a930-387dca29e6c9",
        "image_path": ".../data/images/81578103-ec34-4fda-a930-387dca29e6c9.png",
        "message": "å›¾ç‰‡ä¸Šä¼ æˆåŠŸ..."
    }
}
```

**éªŒè¯ç‚¹**ï¼š
- âœ… è‡ªåŠ¨åˆ›å»ºä»»åŠ¡
- âœ… å›¾ç‰‡ä¸Šä¼ æˆåŠŸ
- âœ… ä¸€æ¬¡è°ƒç”¨å®Œæˆä¸¤ä¸ªæ“ä½œ

### æµ‹è¯• 5ï¼šå¤šå›¾ç‰‡ä¸Šä¼ éªŒè¯ âœ…

**æŸ¥çœ‹å·²ä¸Šä¼ å›¾ç‰‡**ï¼š
```bash
ls -lh data/images/
```

**ç»“æžœ**ï¼š
```
-rw-rw-r-- 1 lenovo lenovo 70 1æœˆ 13 17:50 81578103-ec34-4fda-a930-387dca29e6c9.png
-rw-rw-r-- 1 lenovo lenovo 70 1æœˆ 13 17:49 d22fa0c3-7df9-48d9-a647-24a0d638779e.png
```

**éªŒè¯ç‚¹**ï¼š
- âœ… å¤šä¸ªå›¾ç‰‡æ­£ç¡®å­˜å‚¨
- âœ… æ¯ä¸ªå›¾ç‰‡ç‹¬ç«‹å‘½å
- âœ… æ— æ–‡ä»¶åå†²çª

### æµ‹è¯• 6ï¼šæ•°æ®åº“éªŒè¯ âœ…

**å‘½ä»¤**ï¼š
```bash
sqlite3 data/ocr_pngtoexcel.db \
  "SELECT task_id, status, image_path FROM tasks WHERE image_path IS NOT NULL ORDER BY created_at DESC LIMIT 3;"
```

**ç»“æžœ**ï¼š
```
81578103-ec34-4fda-a930-387dca29e6c9|uploaded|.../data/images/81578103-ec34-4fda-a930-387dca29e6c9.png
d22fa0c3-7df9-48d9-a647-24a0d638779e|uploaded|.../data/images/d22fa0c3-7df9-48d9-a647-24a0d638779e.png
```

**éªŒè¯ç‚¹**ï¼š
- âœ… æ•°æ®åº“è®°å½•æ­£ç¡®
- âœ… image_path å­—æ®µå·²æ›´æ–°
- âœ… çŠ¶æ€ä¸º uploaded
- âœ… æŒä¹…åŒ–æˆåŠŸ

---

## æŠ€æœ¯å®žçŽ°äº®ç‚¹

### 1. æ˜Žç¡®çš„å­˜å‚¨ä½ç½®

**è®¾è®¡è§„åˆ™**ï¼š`data/images/{task_id}.{ext}`

**ä¼˜åŠ¿**ï¼š
- æ–‡ä»¶åä¸Ž task_id ä¸€ä¸€å¯¹åº”
- ä¾¿äºŽè¿½æº¯å’Œç®¡ç†
- é¿å…æ–‡ä»¶åå†²çª
- æ”¯æŒå¤šç§å›¾ç‰‡æ ¼å¼

**ç¤ºä¾‹**ï¼š
```
data/images/
â”œâ”€â”€ d22fa0c3-7df9-48d9-a647-24a0d638779e.png
â”œâ”€â”€ 81578103-ec34-4fda-a930-387dca29e6c9.png
â””â”€â”€ ...
```

### 2. å¼‚æ­¥æ–‡ä»¶å¤„ç†

```python
- ä½¿ç”¨ aiofiles å¼‚æ­¥è¯»å†™
- åˆ†å—è¯»å–ï¼ˆ8KBï¼‰é¿å…å¤§æ–‡ä»¶å†…å­˜æº¢å‡º
- ä¸é˜»å¡žä¸»çº¿ç¨‹
- æ”¯æŒå¹¶å‘ä¸Šä¼ 
```

### 3. å®Œå–„çš„æ–‡ä»¶éªŒè¯

```python
- æ–‡ä»¶åéªŒè¯
- æ‰©å±•åç™½åå•
- Content-Type éªŒè¯
- æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆå¯é…ç½®ï¼‰
```

### 4. äººæ€§åŒ–çš„é”™è¯¯å¤„ç†

```python
- ä»»åŠ¡ä¸å­˜åœ¨ï¼šè¿”å›ž 404
- æ–‡ä»¶æ ¼å¼é”™è¯¯ï¼šè¿”å›žè¯¦ç»†é”™è¯¯ä¿¡æ¯
- ä¿å­˜å¤±è´¥ï¼šè¿”å›žå¤±è´¥åŽŸå› 
- æ”¯æŒçš„æ ¼å¼æç¤º
```

### 5. æ–‡ä»¶å¤§å°æ ¼å¼åŒ–

```python
def format_file_size(size_bytes: int) -> str:
    """70 B / 1.23 KB / 2.45 MB"""
    for unit in ['B', 'KB', 'MB', 'GB']:
        if size_bytes < 1024.0:
            return f"{size_bytes:.2f} {unit}"
        size_bytes /= 1024.0
```

---

## API æ–‡æ¡£

### æŽ¥å£ 1ï¼šä¸Šä¼ å›¾ç‰‡åˆ°æŒ‡å®šä»»åŠ¡

**ç«¯ç‚¹**ï¼š`POST /api/v1/upload/image/{task_id}`

**å‚æ•°**ï¼š
- `task_id`ï¼ˆè·¯å¾„ï¼‰ï¼šä»»åŠ¡ IDï¼ˆUUIDï¼‰
- `file`ï¼ˆè¡¨å•ï¼‰ï¼šå›¾ç‰‡æ–‡ä»¶

**æ”¯æŒæ ¼å¼**ï¼š
- PNG (.png)
- JPEG (.jpg, .jpeg)
- GIF (.gif)
- BMP (.bmp)
- WebP (.webp)

**å“åº”**ï¼š
```json
{
    "success": true,
    "message": "å›¾ç‰‡ä¸Šä¼ æˆåŠŸ...",
    "data": {
        "task_id": "uuid",
        "image_path": "è·¯å¾„",
        "message": "è¯¦ç»†ä¿¡æ¯"
    }
}
```

### æŽ¥å£ 2ï¼šåˆ›å»ºä»»åŠ¡å¹¶ä¸Šä¼ å›¾ç‰‡

**ç«¯ç‚¹**ï¼š`POST /api/v1/upload/image`

**å‚æ•°**ï¼š
- `file`ï¼ˆè¡¨å•ï¼‰ï¼šå›¾ç‰‡æ–‡ä»¶

**æµç¨‹**ï¼š
1. è‡ªåŠ¨åˆ›å»ºæ–°ä»»åŠ¡
2. ä¸Šä¼ å›¾ç‰‡å¹¶ç»‘å®š
3. è¿”å›žä»»åŠ¡ä¿¡æ¯

**ä¼˜åŠ¿**ï¼šä¸€æ¬¡è°ƒç”¨å®Œæˆä¸¤ä¸ªæ“ä½œ

---

## æ–‡ä»¶å˜æ›´æ¸…å•

### æ–°å¢žæ–‡ä»¶

```
backend/app/
â”œâ”€â”€ services/
â”‚   â””â”€â”€ upload_service.py       # ä¸Šä¼ æœåŠ¡å±‚ï¼ˆæ˜Žç¡®å­˜å‚¨ä½ç½®ï¼‰
â”œâ”€â”€ schemas/
â”‚   â””â”€â”€ upload.py               # ä¸Šä¼ å“åº”æ¨¡åž‹
â””â”€â”€ api/v1/
    â””â”€â”€ upload.py               # ä¸Šä¼  API è·¯ç”±
```

### ä¿®æ”¹æ–‡ä»¶

```
backend/app/
â”œâ”€â”€ schemas/__init__.py         # å¯¼å‡º UploadResponse
â””â”€â”€ main.py                     # æ³¨å†Œä¸Šä¼ è·¯ç”±
```

### æ•°æ®ç›®å½•

```
data/images/
â”œâ”€â”€ {task_id_1}.png            # æ˜Žç¡®çš„å­˜å‚¨ä½ç½®
â”œâ”€â”€ {task_id_2}.jpg
â””â”€â”€ ...
```

---

## éªŒæ”¶ç»“è®º

âœ… **Step 3 éªŒæ”¶é€šè¿‡**

æ‰€æœ‰ç›®æ ‡å’ŒéªŒæ”¶æ ‡å‡†å‡å·²è¾¾æˆï¼š

1. âœ… **å›¾ç‰‡ä¸Šä¼ è½ç›˜å¹¶ä¸Žä»»åŠ¡ç»‘å®š**
   - å›¾ç‰‡æˆåŠŸä¿å­˜åˆ° `data/images/{task_id}.{ext}`
   - å­˜å‚¨ä½ç½®æ˜Žç¡®ã€å”¯ä¸€
   - æ”¯æŒå¤šç§å›¾ç‰‡æ ¼å¼
   - å¼‚æ­¥é«˜æ•ˆå¤„ç†

2. âœ… **å›¾ç‰‡å­˜åœ¨**
   - ç‰©ç†æ–‡ä»¶å­˜åœ¨äºŽæŒ‡å®šä½ç½®
   - æ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼ˆPNG/JPEGç­‰ï¼‰
   - æ–‡ä»¶åæ ¼å¼ï¼š`{task_id}.{ext}` âœ“

3. âœ… **task ä¸Žå›¾ç‰‡å…³è”æ­£ç¡®**
   - task çš„ `image_path` å­—æ®µå·²æ›´æ–°
   - è·¯å¾„æŒ‡å‘æ­£ç¡®çš„å›¾ç‰‡æ–‡ä»¶
   - æ•°æ®åº“æŒä¹…åŒ–æˆåŠŸ

4. âœ… **çŠ¶æ€ä¸º uploaded**
   - ä¸Šä¼ æˆåŠŸåŽçŠ¶æ€è‡ªåŠ¨æ›´æ–°
   - çŠ¶æ€æŸ¥è¯¢æ­£ç¡®
   - çŠ¶æ€æµè½¬æ­£å¸¸

**é¢å¤–å®Œæˆ**ï¼š
- ä¸¤ç§ä¸Šä¼ æŽ¥å£ï¼ˆæŒ‡å®šä»»åŠ¡ + ä¾¿æ·æŽ¥å£ï¼‰
- å®Œå–„çš„æ–‡ä»¶éªŒè¯
- å¼‚æ­¥æ–‡ä»¶å¤„ç†
- æ–‡ä»¶å¤§å°æ ¼å¼åŒ–
- å®Œæ•´çš„é”™è¯¯å¤„ç†
- è‡ªåŠ¨ç”Ÿæˆçš„ API æ–‡æ¡£

**å·¥ç¨‹è´¨é‡**ï¼š
- å­˜å‚¨ä½ç½®æ˜Žç¡®ä¸”è§„èŒƒ
- ä»£ç ç»“æž„æ¸…æ™°
- æ˜“äºŽç»´æŠ¤å’Œæ‰©å±•
- å®Œå–„çš„æ—¥å¿—è®°å½•

---

## ðŸ“ å­˜å‚¨ä½ç½®æ€»ç»“

**å›¾ç‰‡å­˜å‚¨è§„åˆ™**ï¼š`data/images/{task_id}.{ext}`

**ç¤ºä¾‹**ï¼š
```
ä»»åŠ¡ ID: d22fa0c3-7df9-48d9-a647-24a0d638779e
æ–‡ä»¶å:  d22fa0c3-7df9-48d9-a647-24a0d638779e.png
è·¯å¾„:    data/images/d22fa0c3-7df9-48d9-a647-24a0d638779e.png
```

**ä¼˜åŠ¿**ï¼š
- âœ… å”¯ä¸€æ€§ï¼šåŸºäºŽ UUID
- âœ… å¯è¿½æº¯ï¼štask_id å³æ–‡ä»¶å
- âœ… æ˜“ç®¡ç†ï¼šæŒ‰ä»»åŠ¡åˆ é™¤/æ¸…ç†
- âœ… æ— å†²çªï¼šUUID ä¿è¯å”¯ä¸€æ€§

---

## å¿«é€Ÿæµ‹è¯•å‘½ä»¤

```bash
# è¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•
./scripts/test_step3.sh

# æ‰‹åŠ¨æµ‹è¯•ï¼šåˆ›å»ºä»»åŠ¡
TASK_ID=$(curl -s -X POST http://localhost:8000/api/v1/tasks/ | \
  python3 -c "import sys, json; print(json.load(sys.stdin)['data']['task_id'])")

# æ‰‹åŠ¨æµ‹è¯•ï¼šä¸Šä¼ å›¾ç‰‡
curl -X POST "http://localhost:8000/api/v1/upload/image/$TASK_ID" \
  -F "file=@your_image.png"

# æ‰‹åŠ¨æµ‹è¯•ï¼šä¾¿æ·æŽ¥å£
curl -X POST "http://localhost:8000/api/v1/upload/image" \
  -F "file=@your_image.png"

# éªŒè¯å›¾ç‰‡æ–‡ä»¶
ls -lh data/images/$TASK_ID.png

# éªŒè¯ä»»åŠ¡å…³è”
curl http://localhost:8000/api/v1/tasks/$TASK_ID

# æŸ¥çœ‹ API æ–‡æ¡£
æµè§ˆå™¨è®¿é—®: http://localhost:8000/docs
```

---

## ä¸‹ä¸€æ­¥ï¼šStep 4 - OCR æŽ¥å…¥

**ç›®æ ‡**ï¼šåŽç«¯ä¸Šä¼ å›¾ç‰‡åˆ° OCR æœåŠ¡ï¼ŒèŽ·å¾— `ocr_job_id`

**éªŒæ”¶æ ‡å‡†**ï¼š
- æˆåŠŸèŽ·å– job_id
- å†™å…¥ task
- çŠ¶æ€ä¸º `ocr_processing`

è¯¦è§ï¼š`docs/04_tasks/roadmap.md`

---

**å¯ç»§ç»­ä¸‹ä¸€æ­¥å¼€å‘ï¼** ðŸŽ‰
